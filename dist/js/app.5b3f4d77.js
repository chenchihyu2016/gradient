(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08ce":function(t,e,n){},"1fb8":function(t,e,n){},2731:function(t,e,n){"use strict";n("1fb8")},4673:function(t,e,n){"use strict";n("dd99")},"4f9a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{mode:"out-in",name:"fade"}},[n(t.layout,{tag:"component"},[n("transition",{attrs:{mode:"out-in",name:"fade"}},[n("router-view")],1)],1)],1)},s=[],r=(n("ac1f"),n("466d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main_wrapper",on:{touchstart:t.assignNewTouchEvent,touchend:t.navHandle}},[n("CHeader"),n("CNavbar"),n("section",{staticClass:"index_section"},[t._t("default")],2)],1)}),o=[],c=n("d4ec"),u=n("bee2"),l=n("ade3"),d=function(){function t(e,n){Object(c["a"])(this,t),this.startEvent=e,this.endEvent=n||null}return Object(u["a"])(t,[{key:"getSwipeDirection",value:function(){var e=this.startEvent.changedTouches[0],n=this.endEvent.changedTouches[0],i=e.screenX-n.screenX,a=e.screenY-n.screenY,s=null;return e&&n?(Math.abs(i)>Math.abs(a)?i>=t.SWIPE_THRESHOLD?s=t.SWIPE_LEFT:i<=-t.SWIPE_THRESHOLD&&(s=t.SWIPE_RIGHT):a>=t.SWIPE_THRESHOLD?s=t.SWIPE_UP:a<=-t.SWIPE_THRESHOLD&&(s=t.SWIPE_DOWN),s):null}},{key:"isSwipeLeft",value:function(){return this.getSwipeDirection()===t.SWIPE_LEFT}},{key:"isSwipeRight",value:function(){return this.getSwipeDirection()===t.SWIPE_RIGHT}},{key:"isSwipeUp",value:function(){return this.getSwipeDirection()===t.SWIPE_UP}},{key:"isSwipeDown",value:function(){return this.getSwipeDirection()===t.SWIPE_DOWN}},{key:"setEndEvent",value:function(t){this.endEvent=t}}]),t}();Object(l["a"])(d,"SWIPE_THRESHOLD",50),Object(l["a"])(d,"SWIPE_LEFT",1),Object(l["a"])(d,"SWIPE_RIGHT",2),Object(l["a"])(d,"SWIPE_UP",3),Object(l["a"])(d,"SWIPE_DOWN",4);var f={data:function(){return{touchEvent:null}},methods:{assignNewTouchEvent:function(t){this.touchEvent=new d(t)},navHandle:function(t){var e=this.$store;this.touchEvent&&(this.touchEvent.setEndEvent(t),this.touchEvent.isSwipeRight()?e.commit("setIsNavOpen",!0):this.touchEvent.isSwipeLeft()&&e.commit("setIsNavOpen",!1),this.touchEvent=null)}}},h=f,v=(n("d106"),n("2877")),p=n("6544"),m=n.n(p),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t.isMobile||t.isNavOpen||!t.isGradient?t._e():n("div",{staticClass:"menuToggler",on:{click:t.handleNav}},[t._v(" + ")]),n("transition",{attrs:{mode:"out-in",name:"fade",appear:""}},[t.showUnlock?n("router-link",{staticClass:"unlock",attrs:{to:{name:"Letter"}}},[t._v(" 解鎖")]):n("div",{staticClass:"unlock"},[t._v(" "+t._s(t.$store.getters.getPassedLevels.length)+" / "+t._s(t.$store.getters.getLevels.length)+" ")])],1)],1)},b=[],w=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.calculating&&t.value>=25||t.isLetterFinished?n("div",{staticClass:"stop_sign",class:{calculating:t.calculating}},[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),n("svg",{staticClass:"circular_percentage",attrs:{viewBox:"0 0 36 36"}},[n("path",{attrs:{d:"M18 2.0845\n  a 15.9155 15.9155 0 0 1 0 31.831\n  a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#ffffff","stroke-opacity":"80%","stroke-width":"3","stroke-dasharray":t.strokeDasharray}})])]):t._e()])}),_=[],y=(n("a9e3"),{props:{title:{default:"",type:String},timeToElapse:{default:2,type:Number},calculating:{default:!1,type:Boolean},isLetterFinished:{default:!1,type:Boolean}},data:function(){return{value:0,timeId:0,timeElapsed:0,coefficent:50}},watch:{value:function(){var t=this;t.value>100&&(clearInterval(t.timeId),t.$emit("reachFull"))},calculating:function(){var t=this;t.calculating?t.startCal():t.endCal()}},computed:{isMobile:function(){return this.$store.getters.isMobile},strokeDasharray:function(){return"".concat(this.value,", 100")}},methods:{startCal:function(){var t=this,e=t.coefficent,n=t.timeToElapse,i=n/e,a=100/e,s=1e3*n/e;t.timeId=setInterval((function(){t.timeElapsed+=i,t.value+=a}),s)},endCal:function(){var t=this;t.timeElapsed=0,t.value=0,clearInterval(t.timeId)}}}),E=y,O=(n("f47c"),Object(v["a"])(E,w,_,!1,null,"6d62bedb",null)),C=O.exports,I={components:{CCircularPercentage:C},data:function(){return{strokeDasharray:"30, 100"}},created:function(){},computed:{showUnlock:function(){var t=this;t.$store;return!1},isMobile:function(){return this.$store.getters.isMobile},isNavOpen:function(){return this.$store.getters.isNavOpen},isGradient:function(){return"Gradient"===this.$route.name}},methods:{handleNav:function(){var t=this,e=!t.isNavOpen;t.$store.commit("setIsNavOpen",e)}}},S=I,L=(n("2731"),Object(v["a"])(S,g,b,!1,null,"0a6c0d18",null)),k=L.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav_background",class:{showNavbackground:t.showNavbackground},on:{click:function(e){return e.target!==e.currentTarget?null:t.closeNav.apply(null,arguments)}}},[n("div",{staticClass:"left_nav",class:{isNavOpen:t.isNavOpen}},[t.isMobile?n("div",{staticClass:"small_block"},[t.isNavOpen?n("b-icon",{staticClass:"icon",attrs:{icon:"arrow-left"}}):n("b-icon",{staticClass:"icon",attrs:{icon:"arrow-right"}})],1):t._e(),n("div",{staticClass:"close_icon",on:{click:function(e){return e.stopPropagation(),t.closeNav.apply(null,arguments)}}},[t._v("✖")]),n("div",{staticClass:"description"},[n("p",[t._v(t._s(t.description))]),t.showHiddenDescription?n("p",{staticClass:"hidden_description"},[t._v(" "+t._s(t.hiddenDescription)+" ")]):t._e()]),n("div",{staticClass:"item",on:{click:t.backToLevel}},[n("b-icon",{staticClass:"icon",attrs:{icon:"arrow-bar-left"}}),n("span",{staticClass:"text"},[t._v("返回關卡頁")])],1)])])},N=[],P=(n("a4d3"),n("e01a"),n("8058")),x={data:function(){return{showBackToLevel:!1,description:P.description,hiddenDescription:P.hiddenDescription,showNavbackground:this.$store.getters.isNavOpen}},computed:{isNavOpen:function(){return this.$store.getters.isNavOpen},isMobile:function(){return this.$store.getters.isMobile},showHiddenDescription:function(){var t=this,e=t.$store;return e.getters.getPassedLevels.length===e.getters.getLevels.length}},watch:{"$route.name":function(){this.showBackToLevel="Gradient"===this.$route.name},isNavOpen:function(){var t=this,e=this;e.isNavOpen?e.showNavbackground=!0:setTimeout((function(){t.showNavbackground=!1}),300)}},methods:{backToLevel:function(){var t=this;t.$router.push({name:"Level"}),t.closeNav()},closeNav:function(){var t=this;t.$store.commit("setIsNavOpen",!1)}}},M=x,T=(n("b3ef"),Object(v["a"])(M,$,N,!1,null,"488884c6",null)),H=T.exports,j=Object(v["a"])(h,r,o,!1,null,"0deb89fe",null),W=j.exports;m()(j,{CHeader:k,CNavbar:H});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background",on:{mousedown:t.startCalculating,mouseup:t.stopCalculating,touchstart:t.startCalculating,touchend:t.stopCalculating}},[t._t("default"),n("CCircularPercentage",{attrs:{title:"輕觸離開",timeToElapse:t.timeToElapse,calculating:t.calculating,isLetterFinished:t.isLetterFinished},on:{reachFull:t.reachFull}})],2)},F=[],G={components:{CCircularPercentage:C},computed:{isMobile:function(){return this.$store.getters.isMobile}},data:function(){return{timeToElapse:this.isMobile?2:3,calculating:!1,isLetterFinished:!1}},mounted:function(){var t=this;setTimeout((function(){t.isLetterFinished=!0}),267e3)},methods:{reachFull:function(){var t=this;t.$router.push({name:"Level"})},startCalculating:function(t){var e=this,n=t.which;2!==n&&3!==n&&(e.calculating=!0)},stopCalculating:function(){var t=this;t.calculating=!1}}},R=G,V=(n("e0bd"),Object(v["a"])(R,D,F,!1,null,"1003b59c",null)),z=V.exports;m()(V,{CCircularPercentage:C});var B=n("5f5b"),U=n("b1e0");i["default"].use(B["a"]),i["default"].use(U["a"]);var A={data:function(){return{layout:this.$store.getters.meta}},components:{VIndex:W,VLetter:z},mounted:function(){var t=this,e=this;document.title="Gradiently",window.oncontextmenu=function(){return!1},window.addEventListener("resize",(function(){var e=t;e.$store.commit("setIsMobile",window.innerHeight>window.innerWidth)})),e.iphoneHandle()},watch:{$route:function(){var t=this,e=t.$route;t.layout=e.meta.layout},"$store.getters.meta":function(){var t=this;t.layout=t.$store.getters.meta}},methods:{iphoneHandle:function(){var t=0;document.addEventListener("touchstart",(function(t){t.touches.length>1&&t.preventDefault()}),{passive:!1}),document.addEventListener("touchend",(function(e){var n=(new Date).getTime();n-t<=300&&e.preventDefault(),t=n}),!1),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&window.addEventListener("load",(function(){setTimeout((function(){window.scrollTo(0,1)}),1e3)}))}}},J=A,X=(n("5c0b"),Object(v["a"])(J,a,s,!1,null,null,null)),Y=X.exports,q=n("8c4f"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outline",on:{"~click":function(e){return t.gameStart.apply(null,arguments)}}},[n("c-loading",{attrs:{isLoading:t.success}}),t._l(t.row,(function(e,i){return n("div",{key:i,staticClass:"row",style:{height:t.rowHeight+"%",width:t.rowWidth+"%"}},t._l(t.column,(function(i,a){return n("div",{key:a,ref:t.getIndex(e,t.column,i),refInFor:!0,staticClass:"column",style:{background:t.styleCalc(t.getIndex(e,t.column,i)),height:t.columnHeight+"%",width:t.columnWidth+"%"},on:{click:function(n){t.swapHandle(t.getIndex(e,t.column,i))}}})})),0)}))],2)},Q=[],Z=(n("d3b7"),n("159b"),n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isLoading?n("div",{staticClass:"backdrop"},[n("div",{staticClass:"success_icon"})]):t._e()])}),tt=[],et={props:{isLoading:{type:Boolean,default:!0}}},nt=et,it=(n("4673"),Object(v["a"])(nt,Z,tt,!1,null,"a9eb98f2",null)),at=it.exports,st={components:{CLoading:at},props:{level:{type:Object,default:function(){return{row:2,column:5}}}},data:function(){return{array:[],storeIndex:null,success:!1,colorSet:["red","green","blue"],rowHeight:null,rowWidth:null,columnHeight:null,columnWidth:null}},created:function(){var t=this;t.calcSize(),t.init()},mounted:function(){var t=this;t.randomize()},methods:{gameStart:function(){},init:function(){for(var t=this,e=t.array,n=t.row*t.column,i=t.colorSet,a=t.colorInit(),s=function(t){var n={};i.forEach((function(e){n[e]=a["".concat(e,"Start")]+a["".concat(e,"Vector")]*t})),e.push(n)},r=1;r<n+1;r++)s(r)},randomize:function(){var t=this,e=1,n=21,i=t.array,a=i.length;while(e<n){var s=Math.floor(Math.random()*a);t.swapHandle(s),e++}},styleCalc:function(t){var e=this.array[t],n=e.red,i=e.green,a=e.blue;return"rgba(".concat(n,", ").concat(i,", ").concat(a,")")},getIndex:function(t,e,n){return(t-1)*e+(n-1)},swapHandle:function(t){var e=this,n=e.array,i=e.$refs,a=Object.assign({},n[e.storeIndex]),s=Object.assign({},n[t]);null===e.storeIndex?(e.storeIndex=t,i[e.storeIndex][0].classList.toggle("selected")):(e.storeIndex!==t&&(e.$set(n,t,a),e.$set(n,e.storeIndex,s)),i[e.storeIndex][0].classList.toggle("selected"),e.storeIndex=null)},calcSize:function(){var t=this,e=t.$store.getters.isMobile;t.column=t.level["column"],t.row=t.level["row"],e?(t.rowHeight=100,t.columnWidth=100):(t.rowWidth=100,t.columnHeight=100)},colorInit:function(){var t=this,e=t.colorSet,n={},i=t.row*t.column;return e.forEach((function(t){var e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());n["".concat(t,"Start")]=e,n["".concat(t,"Vector")]=(a-e)/i})),n}},computed:{isMobile:function(){return this.$store.getters.isMobile}},watch:{isMobile:function(){var t=this;t.calcSize()},array:{deep:!0,handler:function(){var t=this,e=t.array,n=e.length,i=t.colorSet,a=t.$store,s=!0;i.forEach((function(t){for(var i=e[0][t],a=e[n-1][t],r=i<a?1:-1,o=0;o<n-1;o++){var c=r*e[o][t],u=r*e[o+1][t];if(c>u){s=!1;break}}})),s&&(setTimeout((function(){t.success=!0,a.commit("setDifficulty",t.level.difficulty)}),500),setTimeout((function(){t.success=!1,t.$router.push({name:"Level"})}),2e3))}}}},rt=st,ot=(n("b888"),Object(v["a"])(rt,K,Q,!1,null,"7bcecfce",null)),ct=ot.exports;m()(ot,{CLoading:at});var ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outline"},t._l(t.levels,(function(e,i){return n("router-link",{key:i,staticClass:"box",class:{passed:t.isPassed(e)},attrs:{to:{name:"Gradient",params:{level:e}},"data-is-passed":!!t.isPassed(e)}},[n("p",{staticClass:"text"},[t._v(t._s(e.row)+" x "+t._s(e.column))])])})),1)},lt=[],dt=(n("caad"),n("2532"),{data:function(){return{levels:{required:!0,type:Array,default:function(){return[]}}}},created:function(){var t=this,e=t.$store;t.levels=e.getters.getLevels},computed:{isMobile:function(){return this.$store.getters.isMobile}},methods:{isPassed:function(t){var e=this.$store,n=e.getters.getPassedLevels;return n.includes(t.difficulty)}}}),ft=dt,ht=(n("692f"),Object(v["a"])(ft,ut,lt,!1,null,"236d0f68",null)),vt=ht.exports;i["default"].use(q["a"]);var pt=[{path:"/gradient",name:"Gradient",component:ct,meta:{layout:"VIndex"},props:!0},{path:"/",name:"Level",component:vt,meta:{layout:"VIndex"}}],mt=new q["a"]({routes:pt}),gt=mt,bt=n("5530"),wt=n("2f62"),_t={levels:[{row:1,column:5,difficulty:1},{row:1,column:8,difficulty:2},{row:2,column:5,difficulty:3},{row:2,column:7,difficulty:4},{row:3,column:5,difficulty:5},{row:3,column:6,difficulty:6},{row:4,column:5,difficulty:7},{row:4,column:6,difficulty:8},{row:5,column:6,difficulty:9},{row:6,column:6,difficulty:10}],passedLevels:[],isMobile:window.innerHeight>window.innerWidth,isNavOpen:!1,meta:"VIndex"},yt={getPassedLevels:function(t){return t.passedLevels},getLevels:function(t){return t.levels},isMobile:function(t){return t.isMobile},isNavOpen:function(t){return t.isNavOpen},meta:function(t){return t.meta}},Et={},Ot={setDifficulty:function(t,e){return t.passedLevels.push(e)},setIsMobile:function(t,e){return t.isMobile=e},setIsNavOpen:function(t,e){return t.isNavOpen=e},setMeta:function(t,e){return t.meta=e}},Ct={state:_t,getters:yt,actions:Et,mutations:Ot},It={basic:Ct};i["default"].use(wt["a"]);var St=new wt["a"].Store({modules:Object(bt["a"])({},It)});i["default"].config.productionTip=!1,new i["default"]({router:gt,store:St,render:function(t){return t(Y)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"692f":function(t,e,n){"use strict";n("7423")},7423:function(t,e,n){},8058:function(t){t.exports=JSON.parse("{}")},"8b9e":function(t,e,n){},"95a0":function(t,e,n){},"9c0c":function(t,e,n){},b3ef:function(t,e,n){"use strict";n("e2bc")},b888:function(t,e,n){"use strict";n("08ce")},d106:function(t,e,n){"use strict";n("95a0")},dd99:function(t,e,n){},e0bd:function(t,e,n){"use strict";n("8b9e")},e2bc:function(t,e,n){},f47c:function(t,e,n){"use strict";n("4f9a")}});